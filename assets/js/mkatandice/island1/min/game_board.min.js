function HexTile(t,e,i,r,a){this.p=t,this.x=e,this.y=i,this.c=r,this.rs=a;var s="M0,52 L30,0 L90,0 L120,52 L90,104 L30,104z",p={brick:"",ore:"",wool:"",lumber:"",grain:"",desert:"?"},n=t.set(this.p.path(s)).attr({fill:this.c,stroke:"none"});return n.push(this.p.circle(60,52,16).attr({fill:"#ecf0f1",stroke:"none"}),this.p.text(60,52,p[this.rs]).attr({"font-family":"Resources","font-size":"18",fill:this.c})),n.transform("T"+this.x+","+this.y),n}function Road(t,e,i,r,a){if(this.p=t,this.x=e,this.y=i,this.r=r,this.special=a||!1,this.w=28,this.h=this.w/2,this.special){var s=t.set(this.p.rect(this.x,this.y,this.w,this.h)).attr({fill:"#8e44ad",stroke:"#2c3e50","stroke-width":2});s.push(this.p.text(this.x+this.w/2,this.y+this.h/2,"➞").attr({"font-size":"12","font-weight":"700",fill:"#ecf0f1"})),s.transform("T"+this.x+","+this.y+"r"+this.r)}else{var s=t.set(this.p.rect(this.x,this.y,this.w,this.h)).attr({fill:"#ecf0f1",stroke:"#2c3e50","stroke-width":2}).data("state",!1);s.push(this.p.text(this.x+this.w/2,this.y+this.h/2,"1").attr({"font-size":"12","font-weight":"700"})),s.attr({cursor:"pointer"}),s.transform("T"+this.x+","+this.y+"r"+this.r),s.click(function(){setElementState(s)})}return s}function Knight(t,e,i,r){this.p=t,this.x=e,this.y=i,this.t=r;var a=t.set(paper.ellipse(10,18,8,18),paper.circle(10,7,7)).attr({fill:"#ecf0f1",stroke:"#2c3e50","stroke-width":2}).data("state",!1);return a.push(this.p.text(10,23,this.t).attr({"font-size":"12","font-weight":"700"})),a.attr({cursor:"pointer"}),a.transform("T"+this.x+","+this.y),a.click(function(){setElementState(a)}),a}function Settlement(t,e,i,r){this.p=t,this.x=e,this.y=i,this.t=r;var a="M0,8 L8,0 L16,8 L16,21 L0,21z",s=t.set(this.p.path(a)).attr({fill:"#ecf0f1",stroke:"#2c3e50","stroke-width":2}).data("state",!1);return s.push(this.p.text(8,13,this.t).attr({"font-size":"12","font-weight":"700"})),s.attr({cursor:"pointer"}),s.transform("T"+this.x+","+this.y),s.click(function(){setElementState(s)}),s}function City(t,e,i,r){this.p=t,this.x=e,this.y=i,this.t=r;var a="M0,8 L8,8 L16,0 L24,8 L24,21 L0,21z",s=t.set(this.p.path(a)).attr({fill:"#ecf0f1",stroke:"#2c3e50","stroke-width":2}).data("state",!1);return s.push(this.p.text(15,14,this.t).attr({"font-size":"12","font-weight":"700"})),s.attr({cursor:"pointer"}),s.transform("T"+this.x+","+this.y),s.click(function(){setElementState(s)}),s}function setElementState(t){t[0].data("state")?(t.forEach(function(t){t.attr(-1!=["rect","circle","ellipse","path"].indexOf(t.type)?{fill:"#ecf0f1",stroke:"#2c3e50"}:{fill:"#2c3e50"})}),t.data("state",!1)):(t.forEach(function(t){t.attr(-1!=["rect","circle","ellipse","path"].indexOf(t.type)?{fill:"#9b59b6",stroke:"#ecf0f1"}:{fill:"#ecf0f1"})}),t.data("state",!0))}function calculateScreenSize(){var t=screen.availWidth;320>=t?paper.setViewBox(0,0,375,325,!0):paper.setViewBox(0,0,325,325,!0)}var paper=Raphael("map-svg",325,325);paper.canvas.setAttribute("preserveAspectRatio","xMidYMid meet");var oreTile=new HexTile(paper,0,52,"#34495e","ore"),grainTile=new HexTile(paper,0,156,"#f1c40f","grain"),woolTile=new HexTile(paper,90,208,"#1abc9c","wool"),lumberTile=new HexTile(paper,180,156,"#27ae60","lumber"),brickTile=new HexTile(paper,180,52,"#e74c3c","brick"),desertTile=new HexTile(paper,90,0,"#95a5a6","desert"),r0=new Road(paper,45,35,60,!0),r1=new Road(paper,45,62,300),r2=new Road(paper,25,74,0),r3=new Road(paper,45,86,60),r4=new Road(paper,45,115,300),r5=new Road(paper,25,126,0),r6=new Road(paper,45,138,60),r7=new Road(paper,70,152,0),r8=new Road(paper,90,142,300),r9=new Road(paper,115,126,0),r10=new Road(paper,135,115,300),r11=new Road(paper,135,85,60),r12=new Road(paper,135,62,300),r13=new Road(paper,90,112,60),r14=new Road(paper,90,87,300),r15=new Road(paper,90,59,60),r16=new Road(paper,90,37,300),k1=new Knight(paper,33,65,1),k2=new Knight(paper,33,168,2),k3=new Knight(paper,123,220,3),k4=new Knight(paper,213,168,4),k5=new Knight(paper,213,65,5),k6=new Knight(paper,123,13,6),s1=new Settlement(paper,114,90,3),s2=new Settlement(paper,114,194,4),s3=new Settlement(paper,114,300,5),s4=new Settlement(paper,204,248,7),s5=new Settlement(paper,204,140,9),s6=new Settlement(paper,204,35,11),c1=new City(paper,15,141,7),c2=new City(paper,15,245,12),c3=new City(paper,290,192,20),c4=new City(paper,290,86,30);window.onresize=calculateScreenSize,window.onload=calculateScreenSize;